tribe.tickets=tribe.tickets||{},tribe.tickets.meta={},function(e,t){const r=e(document);t.selectors={formAttendeeTicketsWrapper:".tribe-tickets__attendee-tickets",formAttendeeTickets:".tribe-tickets__attendee-tickets-container",formAttendeeTicketsItem:".tribe-tickets__attendee-tickets-item",formAttendeeTicketsItemError:".tribe-tickets__attendee-tickets-item--has-error",formAttendeeTicketsItemFocus:".tribe-tickets__attendee-tickets-item--has-focus",formField:".tribe-tickets__form-field",formFieldRequired:".tribe-tickets__form-field--required",formFieldUnique:".tribe-tickets__form-field--unique",formFieldText:".tribe-tickets__form-field--text",formFieldEmail:".tribe-tickets__form-field--email",formFieldInput:".tribe-tickets__form-field-input",formFieldInputError:".tribe-tickets__form-field-input--error",formFieldInputHelper:".tribe-tickets__form-field-input-helper",formFieldInputHelperError:".tribe-tickets__form-field-input-helper--error",formFieldInputCheckboxRadioGroup:".tribe-common-form-control-checkbox-radio-group",formFieldInputCheckbox:{container:".tribe-tickets__form-field--checkbox",checkbox:".tribe-tickets__form-field-input--checkbox"},formFieldInputBirthday:{container:".tribe-tickets__form-field--birth",select:".tribe-tickets__form-field--birth select",day:".tribe-tickets__form-field--birth-day",month:".tribe-tickets__form-field--birth-month",year:".tribe-tickets__form-field--birth-year",value:".tribe-tickets__form-field--birth-value"},hiddenElement:".tribe-common-a11y-hidden"},t.validateForm=function(i){const o=i.find(t.selectors.formAttendeeTicketsItem);let s=!0,c=0;return r.trigger("beforeValidateForm.tribeTicketsMeta",[i]),o.each((function(){const r=e(this);t.validateAttendeeTicket(r)||(c++,s=!1)})),r.trigger("afterValidateForm.tribeTicketsMeta",[i,s,c]),[s,c]},t.validateAttendeeTicket=function(i){const o=i.find(t.selectors.formFieldInput);let s=!0;return r.trigger("beforeValidateAttendeeTicket.tribeTicketsMeta",[i]),o.each((function(){const r=e(this);t.validateField(r[0])||(s=!1)})),s?i.removeClass(t.selectors.formAttendeeTicketsItemError.className()):i.addClass(t.selectors.formAttendeeTicketsItemError.className()),r.trigger("afterValidateAttendeeTicket.tribeTicketsMeta",[i,s]),s},t.validateCheckboxRadioGroup=function(e){const t=e.find("input:checked").length,r=e.find("input:required").length;return!!(!r||r&&t)},t.isFieldBirthday=function(e){return e.hasClass(t.selectors.formFieldInputBirthday.value.className())},t.validateFieldBirthday=function(e){const r=e.closest(t.selectors.formFieldInputBirthday.container),i=r.find(t.selectors.formFieldInputBirthday.day),o=r.find(t.selectors.formFieldInputBirthday.month),s=r.find(t.selectors.formFieldInputBirthday.year);let c=!0;return i.prop("required")||o.prop("required")||s.prop("required")?([i,o,s].forEach((function(e){isNaN(parseInt(e.val()))||parseInt(e.val())<=0?(e.addClass(t.selectors.formFieldInputError.className()),c=!1):e.removeClass(t.selectors.formFieldInputError.className())})),c):c},t.validateField=function(i){const o=e(i);let s=i.checkValidity();if(r.trigger("beforeValidateField.tribeTicketsMeta",[o,s]),!s&&(o.is(":checkbox")||o.is(":radio"))){const e=o.closest(t.selectors.formFieldInputCheckboxRadioGroup);e.length&&(s=t.validateCheckboxRadioGroup(e))}return t.isFieldBirthday(o)&&(s=t.validateFieldBirthday(o)),o.prop("required")&&(o.is(":text")||o.is("textarea")||"tel"===o.attr("type"))&&(s=!!o.val().trim()),s?o.removeClass(t.selectors.formFieldInputError.className()):o.addClass(t.selectors.formFieldInputError.className()),r.trigger("afterValidateField.tribeTicketsMeta",[o,s]),s=t.validateFieldOverride(o,s),s},t.validateFieldOverride=function(e,t){return void 0===e.data("valid")?t:e.data("valid")},t.populateFieldBirthday=function(){e(t.selectors.formFieldInputBirthday.container).each((function(r,i){const o=e(i),s=o.find(t.selectors.formFieldInputBirthday.day),c=o.find(t.selectors.formFieldInputBirthday.month),d=o.find(t.selectors.formFieldInputBirthday.year),l=o.find(t.selectors.formFieldInputBirthday.value).val().split("-");3===l.length&&(d.val(l[0]),c.val(l[1]),s.val(l[2]))}))},t.updateFieldBirthdayValue=function(r){const i=e(r.target).closest(t.selectors.formFieldInputBirthday.container),o=i.find(t.selectors.formFieldInputBirthday.day),s=i.find(t.selectors.formFieldInputBirthday.month),c=i.find(t.selectors.formFieldInputBirthday.year),d=i.find(t.selectors.formFieldInputBirthday.value);d.val(c.val()+"-"+s.val()+"-"+o.val()),d.trigger("change")},t.handleRequiredCheckboxes=function(r){const i=e(r.target).closest(t.selectors.formFieldInputCheckbox.container);if(!i.hasClass(t.selectors.formFieldRequired.className()))return;const o=i.find(t.selectors.formFieldInputCheckbox.checkbox+":checked"),s=i.find(t.selectors.formFieldInputCheckbox.checkbox);if(0===o.length)return s.attr("required",!0),void s.attr("aria-required",!0);s.removeAttr("required"),s.removeAttr("aria-required"),o.attr("required",!0),o.attr("aria-required",!0)},t.focusTicketAttendeeBlock=function(r){const i=r.target;e(i).closest(t.selectors.formAttendeeTicketsItem).addClass(t.selectors.formAttendeeTicketsItemFocus.className())},t.unFocusTicketAttendeeBlock=function(r){const i=r.target;e(i).closest(t.selectors.formAttendeeTicketsItem).removeClass(t.selectors.formAttendeeTicketsItemFocus.className())},t.ready=function(){r.on("change",t.selectors.formFieldInputBirthday.select,t.updateFieldBirthdayValue),r.on("change",t.selectors.formFieldInputCheckbox.checkbox,t.handleRequiredCheckboxes),r.on("focus",t.selectors.formFieldInput,t.focusTicketAttendeeBlock),r.on("blur",t.selectors.formFieldInput,t.unFocusTicketAttendeeBlock)},e(t.ready)}(jQuery,tribe.tickets.meta),window.ticketsPlus=window.ticketsPlus||{},window.ticketsPlus.v2=window.ticketsPlus.v2||{},window.ticketsPlus.v2.ticketsMeta={};